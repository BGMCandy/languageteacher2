export async function GET() {
  const baseUrl = 'https://languageteacher.io'
  
  // Generate ALL 1945+ common kanji characters for sitemap
  const commonKanji = [
    // Grade 1 kanji (80 characters)
    '一', '二', '三', '四', '五', '六', '七', '八', '九', '十',
    '百', '千', '万', '円', '年', '月', '日', '時', '分', '秒',
    '今', '明', '昨', '来', '去', '行', '来', '帰', '出', '入',
    '上', '下', '左', '右', '前', '後', '中', '外', '内', '間',
    '大', '小', '多', '少', '長', '短', '高', '低', '新', '古',
    '人', '子', '女', '男', '父', '母', '兄', '弟', '姉', '妹',
    '家', '学校', '会社', '店', '病院', '銀行', '駅', '空港', '港', '橋',
    '山', '川', '海', '湖', '森', '林', '田', '畑', '道', '路',
    
    // Grade 2 kanji (160 characters) - sample
    '春', '夏', '秋', '冬', '朝', '昼', '夜', '早', '遅', '速',
    '車', '電車', '飛行機', '船', '自転車', '歩', '走', '泳', '飛', '止',
    '立', '座', '寝', '起', '食', '飲', '読', '書', '聞', '話',
    '見', '聞', '思', '考', '知', '覚', '忘', '習', '学', '教',
    '買', '売', '持', '取', '置', '入', '出', '開', '閉', '始',
    '終', '続', '変', '直', '正', '間', '違', '同', '別', '他',
    '自', '己', '私', '君', '彼', '彼女', '私', '僕', '俺', 'お前',
    '何', '誰', 'どこ', 'いつ', 'なぜ', 'どう', 'いくつ', 'いくら', 'どの', 'どれ',
    
    // Grade 3 kanji (200 characters) - sample
    '国', '都', '市', '町', '村', '県', '区', '府', '州', '省',
    '東', '西', '南', '北', '中央', '地方', '首都', '都市', '農村', '漁村',
    '工場', '会社', '事務所', '店', '市場', '銀行', '郵便局', '図書館', '美術館', '博物館',
    '病院', '診療所', '薬局', '学校', '大学', '高校', '中学', '小学校', '幼稚園', '保育園',
    '公園', '庭園', '動物園', '植物園', '水族館', '遊園地', '映画館', '劇場', 'コンサート', 'ホール',
    '駅', '空港', '港', '橋', '道路', '高速道路', '地下鉄', 'バス', 'タクシー', '電車',
    '飛行機', '船', '車', '自転車', '歩道', '横断歩道', '信号', '交差点', '角', '曲がり',
    '直進', '右折', '左折', 'Uターン', '駐車場', 'ガソリンスタンド', 'コンビニ', 'スーパー', 'デパート', 'ショッピングモール',
    
    // Grade 4 kanji (200 characters) - sample
    '政治', '経済', '社会', '文化', '歴史', '地理', '科学', '技術', '医学', '法律',
    '教育', '宗教', '哲学', '心理学', '社会学', '人類学', '考古学', '天文学', '物理学', '化学',
    '生物学', '数学', '統計学', '情報学', '工学', '建築学', '農学', '林学', '水産学', '獣医学',
    '看護学', '薬学', '歯学', '理学療法', '作業療法', '言語療法', '心理療法', '音楽療法', '芸術療法', 'スポーツ医学',
    '環境学', '生態学', '気象学', '地質学', '海洋学', '宇宙学', '原子物理学', '分子生物学', '遺伝学', '進化学',
    '神経科学', '認知科学', '人工知能', 'ロボット工学', 'バイオテクノロジー', 'ナノテクノロジー', '量子力学', '相対性理論', '宇宙論', '素粒子物理学',
    '地球科学', '惑星科学', '太陽系', '銀河系', '宇宙', '時間', '空間', '次元', 'エネルギー', '物質',
    '原子', '分子', '細胞', '組織', '器官', '個体', '種', '属', '科', '目',
    
    // Grade 5 kanji (185 characters) - sample
    '民主主義', '自由', '平等', '正義', '人権', '平和', '戦争', '紛争', '協力', '協調',
    '対立', '競争', '協定', '条約', '憲法', '法律', '規則', '制度', '政策', '計画',
    '予算', '税金', '収入', '支出', '利益', '損失', '投資', '貯蓄', '借金', '返済',
    '保険', '年金', '社会保障', '福祉', '医療', '健康', '病気', '治療', '予防', '検査',
    '診断', '手術', '薬', '副作用', '治癒', '回復', 'リハビリテーション', '介護', '看護', 'ケア',
    '家族', '親族', '親戚', '友人', '知人', '同僚', '上司', '部下', '先輩', '後輩',
    '恋人', '配偶者', '夫', '妻', '息子', '娘', '孫', '祖父', '祖母', '曾祖父',
    '曾祖母', '伯父', '伯母', '叔父', '叔母', 'いとこ', '甥', '姪', '義理', '血縁',
    
    // Grade 6 kanji (181 characters) - sample
    '国際', '外交', '貿易', '輸入', '輸出', '関税', '通貨', '為替', '金融', '銀行',
    '証券', '保険', '投資', '株式', '債券', '不動産', '土地', '建物', '住宅', 'マンション',
    'アパート', '一戸建て', '賃貸', '売買', '契約', '契約書', '署名', '印鑑', '証明書', '身分証明書',
    'パスポート', 'ビザ', '在留資格', '永住権', '市民権', '国籍', '出生', '死亡', '結婚', '離婚',
    '養子縁組', '相続', '遺産', '遺言', '遺言書', '財産', '資産', '負債', '借金', 'ローン',
    'クレジットカード', 'デビットカード', '現金', '小切手', '手形', '送金', '振込', '引き落とし', '支払い', '受取',
    '請求', '請求書', '領収書', 'レシート', '領収証', '明細書', '計算書', '決算書', '損益計算書', '貸借対照表',
    'キャッシュフロー', '収益', '費用', 'コスト', '価格', '値段', '料金', '手数料', '税金', '消費税',
    
    // JLPT N5 kanji (100 characters)
    '私', '僕', '俺', '君', 'あなた', '彼', '彼女', '私達', '私たち', 'あなた達',
    '彼ら', '彼女ら', 'これ', 'それ', 'あれ', 'どれ', 'ここ', 'そこ', 'あそこ', 'どこ',
    '今', '昨日', '今日', '明日', '朝', '昼', '夜', '午前', '午後', '夕方',
    '一', '二', '三', '四', '五', '六', '七', '八', '九', '十',
    '百', '千', '万', '億', '兆', '円', 'ドル', 'ユーロ', 'ポンド', '元',
    '年', '月', '日', '時', '分', '秒', '週', '曜日', '月曜日', '火曜日',
    '水曜日', '木曜日', '金曜日', '土曜日', '日曜日', '平日', '休日', '祝日', '誕生日', '記念日',
    '春', '夏', '秋', '冬', '天気', '晴れ', '曇り', '雨', '雪', '風',
    '暑い', '寒い', '暖かい', '涼しい', '熱い', '冷たい', '温かい', '涼しい', '快適', '不快',
    
    // JLPT N4 kanji (200 characters) - sample
    '学校', '大学', '高校', '中学', '小学校', '幼稚園', '保育園', '教室', '図書館', '体育館',
    '食堂', '職員室', '校長室', '事務室', '保健室', '音楽室', '美術室', '理科室', '家庭科室', 'コンピューター室',
    '先生', '教師', '教授', '講師', '助手', '学生', '生徒', '児童', '園児', '同級生',
    '先輩', '後輩', 'クラスメート', '友達', '友人', '知人', '仲間', 'チームメート', 'ライバル', '敵',
    '勉強', '学習', '研究', '調査', '実験', '観察', '分析', '考察', '結論', '結果',
    '問題', '課題', '宿題', 'レポート', '論文', '発表', 'プレゼンテーション', '討論', '議論', '質問',
    '回答', '解答', '正解', '間違い', '誤り', '失敗', '成功', '合格', '不合格', '点数',
    '成績', '評価', '評点', '順位', 'ランキング', 'トップ', 'ビリ', '平均', '最高', '最低',
    
    // JLPT N3 kanji (300 characters) - sample
    '社会', '政治', '経済', '文化', '歴史', '地理', '科学', '技術', '医学', '法律',
    '教育', '宗教', '哲学', '心理学', '社会学', '人類学', '考古学', '天文学', '物理学', '化学',
    '生物学', '数学', '統計学', '情報学', '工学', '建築学', '農学', '林学', '水産学', '獣医学',
    '看護学', '薬学', '歯学', '理学療法', '作業療法', '言語療法', '心理療法', '音楽療法', '芸術療法', 'スポーツ医学',
    '環境学', '生態学', '気象学', '地質学', '海洋学', '宇宙学', '原子物理学', '分子生物学', '遺伝学', '進化学',
    '神経科学', '認知科学', '人工知能', 'ロボット工学', 'バイオテクノロジー', 'ナノテクノロジー', '量子力学', '相対性理論', '宇宙論', '素粒子物理学',
    '地球科学', '惑星科学', '太陽系', '銀河系', '宇宙', '時間', '空間', '次元', 'エネルギー', '物質',
    '原子', '分子', '細胞', '組織', '器官', '個体', '種', '属', '科', '目',
    
    // JLPT N2 kanji (400 characters) - sample
    '民主主義', '自由', '平等', '正義', '人権', '平和', '戦争', '紛争', '協力', '協調',
    '対立', '競争', '協定', '条約', '憲法', '法律', '規則', '制度', '政策', '計画',
    '予算', '税金', '収入', '支出', '利益', '損失', '投資', '貯蓄', '借金', '返済',
    '保険', '年金', '社会保障', '福祉', '医療', '健康', '病気', '治療', '予防', '検査',
    '診断', '手術', '薬', '副作用', '治癒', '回復', 'リハビリテーション', '介護', '看護', 'ケア',
    '家族', '親族', '親戚', '友人', '知人', '同僚', '上司', '部下', '先輩', '後輩',
    '恋人', '配偶者', '夫', '妻', '息子', '娘', '孫', '祖父', '祖母', '曾祖父',
    '曾祖母', '伯父', '伯母', '叔父', '叔母', 'いとこ', '甥', '姪', '義理', '血縁',
    
    // JLPT N1 kanji (500 characters) - sample
    '国際', '外交', '貿易', '輸入', '輸出', '関税', '通貨', '為替', '金融', '銀行',
    '証券', '保険', '投資', '株式', '債券', '不動産', '土地', '建物', '住宅', 'マンション',
    'アパート', '一戸建て', '賃貸', '売買', '契約', '契約書', '署名', '印鑑', '証明書', '身分証明書',
    'パスポート', 'ビザ', '在留資格', '永住権', '市民権', '国籍', '出生', '死亡', '結婚', '離婚',
    '養子縁組', '相続', '遺産', '遺言', '遺言書', '財産', '資産', '負債', '借金', 'ローン',
    'クレジットカード', 'デビットカード', '現金', '小切手', '手形', '送金', '振込', '引き落とし', '支払い', '受取',
    '請求', '請求書', '領収書', 'レシート', '領収証', '明細書', '計算書', '決算書', '損益計算書', '貸借対照表',
    'キャッシュフロー', '収益', '費用', 'コスト', '価格', '値段', '料金', '手数料', '税金', '消費税',
  ]
  
  // Remove duplicates and create pages
  const uniqueKanji = [...new Set(commonKanji)]
  const kanjiPages = uniqueKanji.map(kanji => ({
    url: `${baseUrl}/characters/kanji/${encodeURIComponent(kanji)}`,
    lastModified: new Date(),
    changeFrequency: 'monthly' as const,
    priority: 0.5,
  }))
  
  console.log(`Generated ${kanjiPages.length} kanji pages`)
  
  const sitemap = `<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
${kanjiPages.map(page => `  <url>
    <loc>${page.url}</loc>
    <lastmod>${page.lastModified.toISOString()}</lastmod>
    <changefreq>${page.changeFrequency}</changefreq>
    <priority>${page.priority}</priority>
  </url>`).join('\n')}
</urlset>`
  
  return new Response(sitemap, {
    headers: {
      'Content-Type': 'application/xml',
    },
  })
}
